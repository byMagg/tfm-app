---
import Layout from '@/layouts/Layout.astro'
import { fetchAPI } from '@/utils'

const { id } = Astro.params

const query = `
      query GetAccident {
        getAccidentById(accidentId: "${id}") {
          _id
          ID
          Source
          Severity
          Start_Time
          End_Time
          Start_Lat
          Start_Lng
          End_Lat
          End_Lng
          Distancemi
          Description
          Street
          City
          County
          State
          Zipcode
          Country
          Timezone
          Airport_Code
          Weather_Timestamp
          TemperatureF
          Wind_ChillF
          Humidity
          Pressurein
          Visibilitymi
          Wind_Direction
          Wind_Speedmph
          Precipitationin
          Weather_Condition
          Amenity
          Bump
          Crossing
          Give_Way
          Junction
          No_Exit
          Railway
          Roundabout
          Station
          Stop
          Traffic_Calming
          Traffic_Signal
          Turning_Loop
          Sunrise_Sunset
          Civil_Twilight
          Nautical_Twilight
          Astronomical_Twilight
        }
      }
  `

const accident = await fetchAPI(query)
---

<Layout title={`${id}`}>
  <h1>Post {id}</h1>
  <pre>{JSON.stringify(accident, null, 2)}</pre>
</Layout>
